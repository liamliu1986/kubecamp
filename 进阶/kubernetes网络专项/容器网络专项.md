# 容器网络
## Container Network Interface

**CNI** 

CNI,云原生基金会项目。由编写配置linux容器网络的接口说明书和库组成，并包括一些插件。CNI只关心容器生命周期内的网络管理，由于其功能只专注于Pod网络，使得CNI具备大量的实现。

## Overview

提供了一种即插即用的容器网络解决方案

定义：

- *container*是一个独立网域，通过network namespace或虚拟机技术实现
- *network*指的是一组带唯一地址且可互相通信的endpoints。它可以是一个container，vm或者是一个network device。理论上，容器可以添加到或移除出一个network
- *runtime*负责执行CNI插件的应用程序
- *plugin*应用一些特定网络配置的程序


## 基本需求
容器网络的基本要求：
1. pod无论运行在任何节点都可以互相直接通信，而不需要NAT地址转换
2. node可以与pod通信，不受限制的情况下可以访问任意网络
3. pod拥有独立的网络空间

CNI网络实现的三种技术方向：
1. 大二层Overlay模式，隧道技术（Vxlan，IPIP）,calico,flannel
2. 三层路由（host-gw、BGP），calico，flannel
3. 底层网络（BGP），强依赖底层网络的支持


